{% extends "::base.html.twig" %}

{% block title %}
{{ app.user.username }}&apos;s Profile &middot; ehack CTF
{% endblock %}

{% block content %}
{% for flashMessage in app.session.flashbag.get('notice') %}
    <div class="flash-notice">
        {{ flashMessage }}
    </div>
{% endfor %}
<div class="container-fluid">
    <div class="row-fluid">
        <div class="span8">
            <form class="form-horizontal" action="#" method="post" {{ form_enctype(form) }}>
                {{ form_widget(form) }}

                <button class="btn">Save</button>
            </form>
        </div>
        <div class="span4">
            
        </div>
    </div>
</div>
{% endblock %}

{% block extrajsend %}
<script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
<script src="{{ path('fos_js_routing_js', {"callback": "fos.Router.setData"}) }}"></script>
<script type="text/javascript">
//<!--
$(document).ready(function() {
    $('.date').datepicker({
        dateFormat: 'dd-mm-yy',
        changeMonth: true,
        changeYear: true
    });
    
    $.get(Routing.generate('ctf_list_countries', null), function(data) {
        data = JSON.parse(data);
        for (var i = 0; i < data.length; ++i) {
            $('#ctf_userbundle_usertype_country').append('<option value="' + data[i].id + '">' + data[i].name + '</option>');
        }
    });
    
    $( "[title]" ).tooltip();
    
    $('#ctf_userbundle_usertype_country').change(function() {
        var country = $(this).val();
        $.get(Routing.generate('ctf_list_states', { id: country }), function(data) {
            data = JSON.parse(data);
            $('#ctf_userbundle_usertype_state').empty();
            for (var i = 0; i < data.length; ++i) {
                $('#ctf_userbundle_usertype_state').append('<option value="' + data[i].id + '">' + data[i].name + '</option>');
            }
        });
    });
});
//-->
</script>
{% endblock %}